// Copyright (c) 2009-2012 The Bitcoin developers
// Distributed under the MIT/X11 software license, see the accompanying
// file COPYING or http://www.opensource.org/licenses/mit-license.php.

#include <boost/assign/list_of.hpp> // for 'map_list_of()'
#include <boost/foreach.hpp>

#include "checkpoints.h"

#include "main.h"
#include "uint256.h"

namespace Checkpoints
{
    typedef std::map<int, uint256> MapCheckpoints;

    // How many times we expect transactions after the last checkpoint to
    // be slower. This number is a compromise, as it can't be accurate for
    // every system. When reindexing from a fast disk with a slow CPU, it
    // can be up to 20, while when downloading from a slow network with a
    // fast multicore CPU, it won't be much higher than 1.
    static const double fSigcheckVerificationFactor = 5.0;

    struct CCheckpointData {
        const MapCheckpoints *mapCheckpoints;
        int64 nTimeLastCheckpoint;
        int64 nTransactionsLastCheckpoint;
        double fTransactionsPerDay;
    };

    // What makes a good checkpoint block?
    // + Is surrounded by blocks with reasonable timestamps
    //   (no blocks before with a timestamp after, none after with
    //    timestamp before)
    // + Contains no strange transactions
    static MapCheckpoints mapCheckpoints =
        boost::assign::map_list_of
        (0, uint256("0x000007140b7a6ca0b64965824f5731f6e86daadf19eb299033530b1e61236e43"))
        (1000, uint256("0x0000000519056d60c10fc996e2cffb51b32424e858e90e9421c5531a0a07cd91"))
        (2000, uint256("0x0000000acdd613d8e1cdd2115c8b6163f2debaeb33f0f721f51afa3cc84907b9"))
        (3000, uint256("0x00000005d955d8cb66a04067ba494170e7fae41639ae7f2d184064d6feafaa70"))
        (4000, uint256("0x00000009406600228a4b49fe2beed81d73269d2019a8ede43d722118a596fb0a"))
        (5000, uint256("0x00000076a97c7f7af8aae2d21cb510b81979a74d6b771f3e9ff3c3c3b2874c50"))
        (6000, uint256("0x000000068f6290f92278041146c28f280bb3b690fa18950e843302c3702691a2"))
        (7000, uint256("0x0000000c0b03d2ce5a5d5b67fa50b51b81abc4a64ebe0fa85220bb52c749ee3d"))
        (8000, uint256("0x000000085eb0f036d9e7fa2d2d925c8b09d6adb7b83cf1942b700c9bcbd5a5c1"))
        (9000, uint256("0x000000100e4c1ab2492a983d0334ac94158a16b509412571ee07714fe55b5e01"))
        (10000, uint256("0x000000084a0b55d75ca302f6d8739dfcfa0ceb0e3aa2a46782a8f06b12798b20"))
        (11000, uint256("0x0000000b5630b702f2b8aa6168d26db6c24d835068f1bde6742239dccd741315"))
        (12000, uint256("0x000000031a433bc2956a613434ce6e3a682dedc578c4fee97b4281a20f5704a7"))
        (13000, uint256("0x000000067a57c8231268cab1fc3d50cc67080ab02499006ad27fe2ac2bc13c4e"))
        (14000, uint256("0x00000001b04bf01235371e83d53787933066606d4ddc47eac61cbb386361cbd5"))
        (15000, uint256("0x0000000201c6016a71a1f0de316b99a3c7e6d01a8b6ae696da8c5f0730c1f8a5"))
        (16000, uint256("0x00000006fad9068d56f23742ec38c861246f60a9ad6f221f161dba8606f21326"))
        (17000, uint256("0x000000001b33544531daa2ae5277fff2db845518b8632efa56119947a70af45d"))
        (18000, uint256("0x000000002886b35fb756ad3782f9432e0a77375ad95a45f4a0d25e082e9518cc"))
        (19000, uint256("0x00000000022a784e2c7154691d572f30b8f5df6ab4c5fe6ab39f00ee309e82e1"))
        (20000, uint256("0x0000000019b906470b41cbfcb483762c9a7fd93b2054e22673a670fed4f607e3"))
        (21000, uint256("0x0000000001e296a4de7e05455a368bcdfa8fb8bdc655b4962f196051e451a344"))
        (22000, uint256("0x00000000011faa27b2db4faee4ae0763db2d55ad374cd0e76a51293ffd36bdd4"))
        (23000, uint256("0x00000000038dcf83f670c79d1c3b482916aca95859d8a9386ca76858937cf8c8"))
        (24000, uint256("0x0000000012b5251924f76b334bdd766bc7e08722660ecfff8f2cb436651d9366"))
        (25000, uint256("0x000000001314300156a457ffeb280eb1fec6d61dee8e4b499550c7831375fb23"))
        (26000, uint256("0x000000006fdc9d0b0aec697d567ce835a0f379465bf7cbcba531e12ed60b7641"))
        (27000, uint256("0x00000000015deb1a1bee22895cc80e6c3ab14b46e4d6737e8c024eb2306672a3"))
        (28000, uint256("0x000000000395545044b1a48496a53c42b339e7330c12569b09182c5c62c3789f"))
        (29000, uint256("0x0000000000955d7167992202f376b193d45733c075ca062b37b6c76f6810ab5f"))
        (30000, uint256("0x0000000000974475481a0c083a65d12806a58f94200e32860999450bf2049c2f"))
        (31000, uint256("0x00000000001bb0d7af960ac57700d44d7440e87f5db0b5e09881c8b4207523fa"))
        (32000, uint256("0x00000000003d078418a42340b5357c658d0c7fc1b85727ed6c3e2418884c859a"))
        (33000, uint256("0x00000000003853bdec7c0d5aca3bef8874896780683f8bb3cd40592bef2c06b9"))
        (34000, uint256("0x000000000010591ba3a2c9a8d92f17ae9c317acf4ee62e143767c2528d9e8caa"))
        (35000, uint256("0x000000000017a1235c09e151adfa0d9c3e736086eda739134915160eb9090726"))
        (36000, uint256("0x00000000004692455285ee5201e8a238df0060aa417b57d093bae48a18c3d419"))
        (37000, uint256("0x000000000041fdab72c7cc1f62795315a459189593da806bf0aa84acc8767568"))
        (38000, uint256("0x00000000001752f2150940d4103f6668232564939c675e7f296a436110cc17a5"))
        (39000, uint256("0x0000000000df04c03cd12e845a4562760bfae9302ad75c661045de4bf3719b37"))
        (40000, uint256("0x00000000000d3e3195fc80137991a5829ed859fd423f5e7ba888b65be21ca5a1"))
        (41000, uint256("0x00000000028157503e14e9c0b751fd87bbe1c8184312f50133c59eceae9173e7"))
        (42000, uint256("0x00000000007f879a7ddc4506f9aea12499d3b0f3f73fda78606b6ec0f5f7e3e5"))
        (43000, uint256("0x0000000000a5e0b325b8a66c38c2dc1d56df52ac90ddd5dc38c18dc4430a4f9c"))
        (44000, uint256("0x0000000000304ea48d4dcee261c28953714177a9f8fb7a7c18401a2bdd783bc3"))
        (45000, uint256("0x0000000000994e5181bc1a1423583c5054fc3e2e792e137b3cca8ef0c64aadc0"))
        (46000, uint256("0x00000000014d1f157269e5e0b6711373624a95b73de7a08bdbb2e68d3dc7192e"))
        (47000, uint256("0x000000000190347387976550060620e64fdd7ecd93a879a8e03efeb299651f11"))
        (48000, uint256("0x000000000031fbecb158ea8395e026b6411b935730312e7ad9ea9560686230f5"))
        (49000, uint256("0x0000000000155218b7a76531e487f3db6102dcd67a33edfb6a6bb9615dcd724e"))
        (50000, uint256("0x0000000000d79d79e518c8501f4c0a8267d9b287b921da77942420b64b9aa12b"))
        (51000, uint256("0x0000000000870124b5d6fb99058de3436a16b8104db1bb14fad50ab22e01aac0"))
        (52000, uint256("0x00000000000e6a78052d3ea5d59536a0981507c45c7c906a81c7a0c5cdc4f642"))
        (53000, uint256("0x00000000007af71bb21619c1a51d516c6bd0c11a62475e368367efbe8768505d"))
        (54000, uint256("0x0000000000508381676258a68cc2fb7c21cee54a87592321f635decb221f1e45"))
        (55000, uint256("0x00000000002cc0182b8b72a6b64cdb01b8cf7298c3659156749ea08ae15d46fb"))
        (56000, uint256("0x0000000000001240cf785e42dae45d9a1093f333843a835b4049b4c985014e80"))
        (57000, uint256("0x00000000001de1738e56737684cb60152fbee7541bf2742a19072674769d1f72"))
        (58000, uint256("0x000000000073208031f8b2aa55efaace095d789e1247c72a77c42e807c206cb9"))
        (59000, uint256("0x0000000000a594d96b39db6b8d9ee4a880fb0b86ceeea03c2e78501cdbc753b6"))
        (60000, uint256("0x0000000000123af5ae90c441ca59b3cc12fb5f49cd8cc734f7228ad1f6ef5c61"))
        (61000, uint256("0x00000000004e88501588e43d16d5eb5fa5cf80fe852d8222c78918c671f114a5"))
        (62000, uint256("0x0000000000035270a5b1918221535756ce0849850adb4bb0e74bbe625909d005"))
        (63000, uint256("0x00000000008d0da82a6f2880939512d7a6a2e06874d74822568131a75cda07d4"))
        (64000, uint256("0x0000000000575a2d920492884a535bdd980a67a62cba6f19266c8ce1d5e8c060"))
        (65000, uint256("0x000000000011d10ae23baedea8d6a53b2667de7cec72727ee924ef8018a4341f"))
        (66000, uint256("0x00000000001aad91c336d9574bc95411a479d960c65ccc7fbc2b740d094d0981"))
        (67000, uint256("0x0000000000129721827090aa5b364aa2fffed43953af37a409adbebda25a4811"))
        (68000, uint256("0x00000000000352a6959da30fe31ffc56b520bb6edf4f1dddc0ad54850959cde3"))
        (69000, uint256("0x000000000001d4dd8aead6754105143a9b55c43deb923442b60bb6ac02dd29be"))
        (70000, uint256("0x0000000000008b3d770fd5e5b2c1bd541cf9aef6b5bcff2abaaf88ddabae6525"))
        (71000, uint256("0x0000000000007bbeabd23428c5e42fc7de1fdaf4bbb7bf7c66f89f0dfe0fb3ae"))
        (72000, uint256("0x000000000002a38743776a46bc90c6361563933caab96c80c2b5734b7cb301c4"))
        (73000, uint256("0x00000000000115c207b95b738e0e0f75e47781ac10d7a8661319634e3fdfa709"))
        (74000, uint256("0x00000000000256ce4f18b31ecb0e17be6d40b33f0ccb6aadac964d3664718676"))
        (75000, uint256("0x000000000000263068de22b4230236b6924a3db1c5d9ae6cae7c321b226cff51"))
        (76000, uint256("0x00000000000193a08a43fc794a9b9ec0155d7b63fa466587f3049abf2085866f"))
        (77000, uint256("0x0000000000018d0ddf2154fdc3e642f7ce41ac4b4b0723854603da45d397405d"))
        (78000, uint256("0x000000000001b14dc8d79dcbbf6a4f1ef27a13c8940d8dafbdc5f1d52ad868ec"))
        (79000, uint256("0x000000000000fe81d376a2773dbdd3cebe6758cdda1cde277a360f87c2a9b2fa"))
        (80000, uint256("0x000000000001fe0e5504f4291a003d48e3a0669a07e149e04c0b429ad6b99a0c"))
        (81000, uint256("0x0000000000007fb6b91fff37916bc87604ae35f7684202751f2eb8e61cb599ac"))
        (82000, uint256("0x0000000000000f520340317fbd63736d498041fe88b5b76fc4093a1747d017c2"))
        (83000, uint256("0x000000000000be06c697b413d080c9091feeb4fab0a759124425203f89de3711"))
        (84000, uint256("0x000000000000c5982f315496aaab0d425c1d798661e49bb71022798ca17142a4"))
        (85000, uint256("0x000000000000bfb758704d2aae636abd3a94a4fea66ff5ac1fed62ed3d2d5258"))
        (86000, uint256("0x00000000000076e526940dce4b4210a0f9d70b7d68d9c3ee1fb75f4841a67f40"))
        (87000, uint256("0x0000000000000c63b59eb49b54d33fed5c61b004553303780568c3643531eb7b"))
        (88000, uint256("0x0000000000007acf415d6cd2229be4b37b8663787f7521729ba9a9c93c9c2fb7"))
        (89000, uint256("0x00000000000043abd3185f3b991271bece7897e6f075a8c1f6c4f3498d812888"))
        (90000, uint256("0x000000000000179a0439dcd880f808685e8035206982dcacd09fc2f0e9235190"))
        (91000, uint256("0x000000000000350c43923928998dca0e03ff1f23ac4675913aa04cb2ad0fcaef"))
        (92000, uint256("0x00000000000004bff66f9aea18d9cb8953b0de83e2cd3b8771ca6ee53ab8de3f"))
        (93000, uint256("0x000000000000207672e94ab51d6b3384300d483f8515c948bb05a52091152537"))
        (94000, uint256("0x0000000000002af64ce1e2665f62753538efd403b4c2bd0d5665d54e9adac239"))
        (95000, uint256("0x0000000000000f42854528d3ce83cafee039f4019c81d6718ca8fa4e23c47ab8"))
        (96000, uint256("0x000000000000258807cb02caf3ea54965ebb3a63a5bb08e04ac4e7acb56f70b0"))
        (97000, uint256("0x0000000000000f642099b949ed1988cc3d96c181037759af44e7980843366a75"))
        (98000, uint256("0x00000000000001c3c2a9e4c71485aca01c0fba3e91ca5e99cdac31f3663e8a47"))
        (99000, uint256("0x0000000000000d22524b1b7b3ccaf3b3059a74564bdf2050733e5b1080dd42b1"))
        (100000, uint256("0x000000000000077f79a7faa8c1d9cc4cc59c409d6d8bdf50f46e89952012babc"))
        (101000, uint256("0x00000000000007a2c125c7df0b6aa11210117275a4573edc93ee00559a6af87b"))
        (102000, uint256("0x00000000000000c765dfd51306bb3058287661fa35b5bdc4406042c105bb9ac0"))
        (103000, uint256("0x0000000000000c13137b2c19c8479c894e03487643ced82039de7f2fccf899c2"))
        (104000, uint256("0x0000000000000491712d23105f7c46eb131111adf17b4e49833d9efab087d444"))
        (105000, uint256("0x0000000000000ac9236fde3acb693c8427a774cf85f5a1935d6bef6647051cd7"))
        (106000, uint256("0x0000000000000b60defca4158f71102500bd84654413c11dc7b43d603267142b"))
        (107000, uint256("0x00000000000009bd413cab7d377df32523f1a7c1755faf6c4fec5e4c3df3c195"))
        (108000, uint256("0x000000000000113e67096b367b0c8adaff821109b668037f9050890ed481374c"))
        (109000, uint256("0x00000000000009fb1eceaabc2f76f4e3977d204782451e1f4d72b1d24157e758"))
        (110000, uint256("0x00000000000005024e1b8fe389b60a50eb58d8e6d527b304b0f990d34fcac9e2"))
        (111000, uint256("0x0000000000001f866e025835ece5c49d2754815e7dcfecf92bfc375e3a73d18c"))
        (112000, uint256("0x00000000000025611385be3b37a1fc819d95e07e5824bbcf346d76c936a6b497"))
        (113000, uint256("0x0000000000002363713a861008f7a3a0933499326a46b675d10b3c639ec40ed2"))
        (114000, uint256("0x0000000000000a5021de68ef99819fc860dd3b50d075d4c6459b19692d3c796f"))
        (115000, uint256("0x000000000000119b9af994ec7f7f49a27e445e85ceeb9d388d47257dab9d706c"))
        (116000, uint256("0x00000000000057300e1f11aedea291a13891dbf1cafbb52302164f10479c68f0"))
        (117000, uint256("0x00000000000079608126a35d6627eb2dca65811884b904688c197ba4b67b210c"))
        (118000, uint256("0x0000000000000bf418d30e98c1c9ded93a6d54bb6bce320b9ff4deb1d5c8f290"))
        (119000, uint256("0x000000000000426c9cd88959af24cd15451d19075e20244db9adc3a86cb91351"))
        (120000, uint256("0x000000000000020ab41d21692dfa81ca9b7dab22956212be9be02df36f3c8b49"))
        (121000, uint256("0x000000000000628ed871cbc5b7d66f8f2b20185449454a7c446002d6ca6ebccd"))
        (122000, uint256("0x00000000000037139994cb0b408289c6617e382fd145ec766e40ec38ff5af9bb"))
        (123000, uint256("0x00000000000043f86a40e1da462b2e9a037f423f5222c2ff5a4bac4546d9314d"))
        (124000, uint256("0x000000000000ab6a8b3fb35737d0704a9fdf90813aaa28c6be25b940cb3f6597"))
        (125000, uint256("0x000000000000247ff83c177c635e6a55775db95bedbd7f6400de6dfc81343262"))
        (126000, uint256("0x0000000000009be5d5e15f9015af3331e6f74cae3d2df881d43da0ea84a59edd"))
        (127000, uint256("0x00000000000061c906e1191707510c84e574459f6392f69244d87ebbf3d4574a"))
        (128000, uint256("0x000000000000bf48c11047fbf838bcd7ba20abf9658f9fa5d81a51e8e9cafa10"))
        (129000, uint256("0x00000000000025a0176b521ae9fe8577623c80e1d1da227ce20a2a5c9f7c02ea"))
        (130000, uint256("0x00000000000096b5a8e87e409c4a3e3c8d95f310c496e7db1cd49a8eabfc90ca"))
        (131000, uint256("0x000000000000828f4bd57066cfd442c6e6df329adef636d0965ef21331770789"))
        (132000, uint256("0x0000000000005a2af41445d9054295ed692843490e31db2116bdab140cef9b68"))
        (133000, uint256("0x0000000000007a693f472aea23edbb75c2a17cd5b78b2992c2d925909aae2ef5"))
        (134000, uint256("0x0000000000001865bfcefc7823bd38de069e0bff100dbc380d677947325daa5f"))
        (135000, uint256("0x00000000000019c156e029dbc9eda4168bbcefc3165842ff8edbc7a192a7f019"))
        (136000, uint256("0x0000000000002be13c07b00b04110c59f3e531cab65f8120ddff39a2fcd9c337"))
        (137000, uint256("0x000000000000a84177c5a161de928206f112f11831d24c761d025237cd2bce4b"))
        (138000, uint256("0x00000000000071580290cddf406145bae4b23bfa994b59d79277681c2e0badff"))
        (139000, uint256("0x000000000000259891dbe548e5c44975a4dfac04d87434f4784adfbf9f9bd9b1"))
        (140000, uint256("0x000000000000907c63a1f888198f7d78f20ac71ef1b31508a675a32b81d4f66a"))
        (141000, uint256("0x0000000000008069cd57eee429caac3c38685f246c81a3211b48aefe37fad9dd"))
        (142000, uint256("0x000000000000faceeb6794303c1d2e23b6650120050b447ee7dfccad7501060f"))
        (143000, uint256("0x00000000000040800e6aa1814ad41443b2b7c3a325661cf366e2d96d2949f612"))
        (144000, uint256("0x000000000000ff34220ca37549603a0a440f32cbf4a8c5657d6872cd1d0397a7"))
        (145000, uint256("0x000000000000a2d0a9059a38bbf4e4bdb9e895c578a41d9cb422a6f2668cc2b8"))
        (146000, uint256("0x000000000000d19cf3ed4a63dd187430a4c48338810559699c091a73a632b67a"))
        (147000, uint256("0x00000000000046f9fc5bbd1ed93801749e9887e3d160f083508ac2055ec725d4"))
        (148000, uint256("0x000000000000145f255563e118456cfd243c9aa6fa0198d4593ca0894c663a57"))
        (149000, uint256("0x00000000000019067c095fd54a05c0a4734c2b23d8d2a606c15ee063a43b4333"))
        (150000, uint256("0x0000000000007f628a17b83682e65e1551f5dbc52c570c84e4d68db4c817ac13"))
        (151000, uint256("0x0000000000008e91d207a631fefb6a0502d5057375df2b2729c1d98b264eb98a"))
        (152000, uint256("0x0000000000004d851f8c658a8eecbde18a0a7a826c5baf3c64a8169d46bcc365"))
        (153000, uint256("0x0000000000006c58b320c6d6c72135ba5cfc7d5c5386b8cb2377597e4c72776f"))
        (154000, uint256("0x0000000000009a6e763e092774c9aaf583119c9fab11df6148f18a9be15ae204"))
        (155000, uint256("0x000000000000336e1f922c6ee6eea7b51c917d1e99401b03868b49a98dbe8135"))
        (156000, uint256("0x00000000000067ef9e87af47118c38ce7bac851165c898b658095f1bc4dc3101"))
        (157000, uint256("0x00000000000051de8424fb226e21003491e62c308a705aa57714271d68e1d0db"))
        (158000, uint256("0x00000000000036194044bca5801c9ee447f1f5a355df131fa6065dafb0b46053"))
        (159000, uint256("0x0000000000007da6790dda9c960aade497853cd60e2c75d1956687fbeb008cf3"))
        (160000, uint256("0x0000000000007db01d83659314cf54fad2a430900e074465d7e08ab01c9ae423"))
        (161000, uint256("0x00000000000022f7caf84fdaa8611112289754c60b1f3901fb0aaddce538ce1e"))
        (162000, uint256("0x000000000000708c1a0643be1b0a048c6ad1e06e99197741910f8c33864c511b"))
        (163000, uint256("0x000000000000e28cd1c22cbb66fc5fddbce17434d37be0bcdf4db21121cb3979"))
        (164000, uint256("0x000000000000405b277bf607132759deeaf73e82251f71547df7834537c449ec"))
        (165000, uint256("0x0000000000001493eb1549009497ed12e6b71478f1202a6a4fcba39067a6a2cd"))
        (166000, uint256("0x00000000000038fdc429c56331db2391b37712852c661072a5269cf24637f3e5"))
        (167000, uint256("0x000000000000d80c1b28b38c49f5bce81ac407b62401aaeb932b8ebe88e0dabc"))
        (168000, uint256("0x0000000000008b78d010a9998a234577e77abed72f8425605d7c4341bb60b3d4"))
        (169000, uint256("0x0000000000004be929af7f5c2fe40ccb2e8200ea9a9db8850986be36b76abb51"))
        (170000, uint256("0x000000000000110ff33abd81f046c8fb52952cd7eccf21849bb497ff08d6b462"))
        (171000, uint256("0x0000000000004f6d6f1ce9fb5335bf4f1cf95a182d9a50b566608fea9596b2e4"))
        (172000, uint256("0x000000000000c14062bdcdf69a420ce97c6828ec8d3e23e745e9ec0258a77933"))
        (173000, uint256("0x0000000000008ef9abbebb27f1019699d52e01e745c9f77d65df12b8276726e1"))
        (174000, uint256("0x0000000000006dc75e5ede5ded6854bad5a81d9844a6c3b1d16c7856ae605889"))
        (175000, uint256("0x0000000000009ef72b620774520ac9544be41a9b0fce4d1b2f0cf31f9d6f84ad"))
        (176000, uint256("0x0000000000007c0d0c3de326a11ae522c9a6ecda5a549815d2de162884aa193a"))
        (177000, uint256("0x000000000000971d85e144db3655fed63dc5b5ba1a6a22dfc0eec95fa396dc81"))
        (178000, uint256("0x0000000000000913a6bbd18dac3dc8ad22d975509cea755f12c628a294d2db13"))
        (179000, uint256("0x000000000000a7e584047648e5aeb460773e209e8d55cd436d399ada120396d4"))
        (180000, uint256("0x0000000000007e93a40e2b2ac46d0ee1ba1e080a4104e24b868d54add34a88ca"))
        (181000, uint256("0x000000000000883d590dc0bafd65271e336a17c1d3099b776ac4e45421df6ebd"))
        (182000, uint256("0x000000000000cad8831ac0978d44b699f23c762e8df38336b8140cb27aa8cbf5"))
        (183000, uint256("0x0000000000004faa84fba16fab91319cebc3a14b108e2388161deba78bda6803"))
        (184000, uint256("0x0000000000010ece7976fd8bca17e24a8e46cec2f66aec4cf7ae14dacd85d230"))
        (185000, uint256("0x000000000000f23f66c61c69f45588e299c9a7c7fe052d626f7785b46c1c5c89"))
        (186000, uint256("0x0000000000004282ab02957076f96b27e9f0536d410533dd915d0c2e088f3042"))
        (187000, uint256("0x000000000000001aaa565ff2bad0d0d949b71b3b668d16eb0bc5c938d6955056"))
        (188000, uint256("0x000000000000f7a3a6915f46f6901443630bb4d55e771275761d3162fe23da03"))
        (189000, uint256("0x00000000000065c03305756fd4155450a932215a1431b204d36c49885b20bc39"))
        (190000, uint256("0x00000000000024dffc21f23b2e534d9e0ca45c2eb733750b90f7e9ca7ac3ea97"))
        (191000, uint256("0x0000000000006b4ee77ef3e5906e61ab3f3d219d252fac55dd5b5bb1054c278d"))
        (192000, uint256("0x0000000000013a29139d39ea342c69198070e7cd6bd2bb64b43e0b6817f98823"))
        (193000, uint256("0x000000000000cfd6d2bdd26e4e20da96b0aae4404d546cec447ea3e378b7820c"))
        (194000, uint256("0x000000000000fb7c3363ac40bbc0a11820d772a73f255e2e1c00d499e110ccf2"))
        (195000, uint256("0x000000000000e494a6b8cf6006f3acb313ae45c648b9aadf14408ca045d5f4a5"))
        (196000, uint256("0x0000000000002da4d67091fc46d2010947c0b287073f85cd65db8cb3860b4ab4"))
        (197000, uint256("0x000000000000f6955f492bca90afca4869b1ba400d5f527b3f39de6cc8946718"))
        (198000, uint256("0x000000000000ddd65fc7c49c9aa997de4132e7a8500b3e3c461bacd6630375c2"))
        (199000, uint256("0x000000000000b3a97e69470cadf3df4bad9443b04494c5eddca69dbde7309083"))
        (200000, uint256("0x0000000000000b92939707c75b9cf1b0656e74af9bc209c9441e29618585fd02"))
        (201000, uint256("0x00000000000066ed5b5337733e4bcf5d3aaaf6e868542655d47ada15ec469a14"))
        (202000, uint256("0x000000000000fbe11568a08a2c539a861c343b7c29d182da65c85af8f85cf3d4"))
        (203000, uint256("0x000000000000684aad912d3be2c421bf3d687a81bf98db0901877edd05cbb95b"))
        (204000, uint256("0x000000000001139b657f5af11d58a2d7a3b6f5770635500276857bed0a047d48"))
        (205000, uint256("0x000000000001189b30a154a56f65c548c5fdef8dce024ee570a1223fd2297560"))
        (206000, uint256("0x0000000000011327f958db963f7e497b91cf1bf7018154d50ffa3524ca8744bf"))
        (207000, uint256("0x0000000000006f9f784ecae5f8584feea4abb7eceab8ae7c4451555741b26f14"))
        (208000, uint256("0x000000000000ed777781155a8a9cd158e1f9cd5c6e094fd0a11c58606818f128"))
        (209000, uint256("0x00000000000176580bbc66c87bb3eabd1f6a73dc1fdee4ce2542cc5783eee4c1"))
        (210000, uint256("0x0000000000003bc197475afbd13f4479ae99a46152749c70d41b03f312147e87"))
        (211000, uint256("0x000000000000712d35c90272b5a2f852c504206f40e4089d8ebe6601d442d3df"))
        (212000, uint256("0x000000000000969e850da3a2a9d6f6b16483eb7ad3cac78d53d6e403462d0e73"))
        (213000, uint256("0x0000000000013adb538706d3ef4c5c336aa3ea988cc4ff18d11184335560691c"))
        (214000, uint256("0x000000000000d14273874016e07a420d3c3bc99a255ebf56379d92c6b7a40411"))
        (215000, uint256("0x0000000000005c6d2655cc30527e5ea274ae2ac78c2591779247965a8f773b73"))
        (216000, uint256("0x0000000000005cd6ed1f61825e6ec843ece7a0f9331d6a152f6c669f10831d13"))
        (217000, uint256("0x00000000000119e13be85dbdc444a15cdc940118e6bac6db4bc69e6f30b5d326"))
        (218000, uint256("0x000000000000197a7b1c20a762961d8f34d3c8959f6bd050fedc73881a769317"))
        (219000, uint256("0x000000000000b019950ba4cbb57fd9f24e844d5c64a30ae929847a972ab1c0b3"))
        (220000, uint256("0x000000000000d30624d71ad8a2cc0ce83f8b796d470afeb6b06b3c2d98430790"))
        (221000, uint256("0x0000000000003e8ce65810e5af63bef07c4e24b7722fb8514fde861735725d17"))
        (222000, uint256("0x00000000000161616e2f176263e06d994388107eab7b69e844d6af19e527671b"))
        (223000, uint256("0x0000000000007c465632b8cc1c2f35e9b4148072838dfaf02c6e7ef95d6ab917"))
        (224000, uint256("0x0000000000013a0d3546185f611069c5c03169604ed4c1d87abf8a44d166a510"))
        (225000, uint256("0x00000000000048cde354af47ce9f940a35a06828030c61be6600ce928e60cf33"))
        (226000, uint256("0x000000000000b7a7ecb0132e8f362568f2b096fe0d7b9e0f1b8b0ac6026a5a08"))
        (227000, uint256("0x0000000000015047fb11f43b899cd0555cacee6b5e40f4bb12704b843380fb0b"))
        (228000, uint256("0x000000000000e8fd8fe57446f2468da70031bc4b1e496724aef4047e353ddc6a"))
        (229000, uint256("0x000000000000f1fc0b98791a8dff3ef278765f06e7e4e197eb86fd6b0b3060e5"))
        (230000, uint256("0x00000000000045cf126dace8b3ddca412b8afee25f50d96fbe20505a14590df2"))
        (231000, uint256("0x0000000000005e32796acb9ebedc27869def105e1a7aa907a86d12c1c5d5df7b"))
        (232000, uint256("0x000000000000938fb140764d8d932bc238386297a8604e3aeafbdb85dd98dace"))
        (233000, uint256("0x000000000001898bb8075e65f15dd21ca2c9831929abdd0409b41bd75e875380"))
        (234000, uint256("0x000000000000dd325cb4c2c97ef9a4252aa81a7d7e235a65d381f01b351c6844"))
        (235000, uint256("0x00000000000160dc96a848ddaa2bdff5d1d8a20c65a5fadade9043b506010bbb"))
        (236000, uint256("0x00000000000057c652585455f392d029ec56d8de702eb62ee17141ccea755786"))
        (237000, uint256("0x000000000001ff1037e90bea2d00025df1463f23bb18f35716559414b469a36c"))
        (238000, uint256("0x0000000000015cebcb75cf86e16fff6d382de722c2385d3b577bcc030c6e76e2"))
        (239000, uint256("0x000000000000e090ebc235e820b0ec413d82a2e4ba594e4ed11485b4cd55fe2b"))
        (240000, uint256("0x0000000000020f4ca4af99aa4a1e9ffd9c33fb972e29a29a3664c847afd60585"))
        (241000, uint256("0x000000000001ebe5382e6109b54def910712277e43ce1150a81c70379a0e2aab"))
        (242000, uint256("0x000000000001ce66d7bd5941f419ed21417250ea7118e1845b8762ece9b8da37"))
        (243000, uint256("0x000000000000ad85ff860483f9e75f7dc89629f73a9d8eb75f491610fa540edc"))
        (244000, uint256("0x000000000000d95206419f4ab9edb6f14136bea2d068e994205388efb03bc01f"))
        (245000, uint256("0x000000000000a8baa94bea3ccb1862cabf59dd2addd03410815ab22f32566690"))
        (246000, uint256("0x000000000001dbeee5c9e1e2bf8097fdb8fec5658c5ea54879324fa162812221"))
        (247000, uint256("0x000000000001cef199dcef37dde7ec35e57f3b3b194a30c960daaf7d410326aa"))
        (248000, uint256("0x00000000000013d1c758c463d6060b858f2ed5222659c5d28ab05aaaaa39acc3"))
        (249000, uint256("0x0000000000030f14b85e4a37be5c12cb549b7f3accf06c03a003339609cf7901"))
        (250000, uint256("0x0000000000000d6466cf6793e78cde5a358e2b057261026bb265b08833a0e9d0"))
        (251000, uint256("0x0000000000038a2e820472a9b9c6fbd5fb3deafbd2e0c22a8c0dd1a6ff6446c2"))
        (252000, uint256("0x000000000002844965428e365df20f70d81c8d789c1de33a411b5b68bcd39ec8"))
        (253000, uint256("0x0000000000043b5988e9022172fb6162ddaab82f450fbde4245ea22a43096293"))
        (254000, uint256("0x000000000002718b772a7739538bbc5b959512939e44c71faff3bc975fdf403d"))
        (255000, uint256("0x0000000000035fcc6788083b065cb15cae17753c15f73b548bbf41a1ae634ef1"))
        (256000, uint256("0x0000000000000ea5f14d16c7e48426d84dc47fa2bab7411b2af514eda1baa925"))
        (257000, uint256("0x000000000000664a81d02a8345a8109bca7e310d2086ed471e9599c852b78a56"))
        (258000, uint256("0x000000000000f57c9a60dd465350ff6abbb9c670053d447350221d5001b2e042"))
        (259000, uint256("0x00000000000148b6c4e5e43f588e5b7d2fff5bb7559fa7e98291006f35c7c971"))
        (260000, uint256("0x0000000000048ba073e4d9ec730173718f6d24fdaa5064ce0abc59205d3795fd"))
        (261000, uint256("0x0000000000039bb89f5ee03160a13428ba34d7b7c15950e9b3b5eb5a8c4cbf73"))
        (262000, uint256("0x000000000002bbec177c6692f5c834ac7a5a3690ad434715d8a56467d92498bd"))
        (263000, uint256("0x000000000001108f2249f90b26731d9ffd53bc215e8543972de55500675273c6"))
        (264000, uint256("0x00000000000422286f3de1251bf30524018e63a0e6c72913a7177cfd5ca3dd3f"))
        (265000, uint256("0x0000000000021aa8c1c5793c77efe00494dffb28adf3e36f482b80822c183802"))
        (266000, uint256("0x0000000000001ed853748e6ea4f7a60551277a485d601ccc463371df73920f57"))
        (267000, uint256("0x000000000002419b22e6a88a11f6b42b73493defbe0f3760bf71ab9444769fe8"))
        (268000, uint256("0x000000000006ad639181da54ed77a082a6f370cba43bc895de4ffd32b79494de"))
        (269000, uint256("0x000000000000b3708e0e650fc63e6b2166aa3f7c8e85e94045d717db9c4348df"))
        (270000, uint256("0x000000000000197167addb4edf3fb33145eba9f14d4d78ed677c3842b356fcf1"))
        (271000, uint256("0x000000000001f14b0c1fb7287b28e8fdf56917125965c870284f67447cdf3174"))
        (272000, uint256("0x00000000000283b561fb195fcec35ecf92a812b8db6aa7e1921e56880363fb57"))
        (273000, uint256("0x00000000000561cebc006dfa0f3ede22ecbf7262dbd7434f20490a04bba85e6b"))
        (274000, uint256("0x00000000000049a2744bd7bbee51b4835eeef56970be7e23591944e1615f7b1e"))
        (275000, uint256("0x00000000000435e70e50d5656f57218fc70195d6bafed55bbb9b5eaa5f9a2a82"))
        (276000, uint256("0x00000000000150f9463e26e82735341d3b274dddb9b3f96339f165c5ec8ffcab"))
        (277000, uint256("0x000000000004c5482255111ba6b3b4a68b7a2962f00716739cbdf0301b6ec5c8"))
        (278000, uint256("0x000000000003418276f3bedfc577db591c1e87b0772fc6c3760ba9df9d651cc3"))
        (279000, uint256("0x0000000000026cc6ec0d7a5d8d869b857fe569f913cba0c69b3b60cd514c67a3"))
        (280000, uint256("0x00000000000133890f57bf1f41ec21f91dc81da83a4e667e1ec98b533461dec5"))
        (281000, uint256("0x0000000000011146d8262ca074c83269d101bd7c6c941c9d2d3133f6a6207919"))
        (282000, uint256("0x0000000000030e69286c57238fc41a64f3b24a25e3ce8ae0485643d0ae518b13"))
        (283000, uint256("0x000000000000c04b6f367c82f00b51a7efeb137a617ca1569bb17fcc6bc71706"))
        (284000, uint256("0x000000000002cf17f20df9e1c2ad477a4b12ac182c74dba7d1228f7dc8c49a52"))
        (285000, uint256("0x000000000001300d434042268f5a8568d7f0b23bb07ca5ba2141d4b5e6e42b6a"))
        (286000, uint256("0x00000000000136280b6e123491783ebcf7a3827b758fec3a557f8630b64ee1d1"))
        (287000, uint256("0x0000000000007721282edba9875a266d76c748a4a9e464bb1e0e0b0a72de4338"))
        (288000, uint256("0x000000000001fff16208af68d1034d6bb1a06bee1113cd75a1ba0e80b4bbe038"))
        (289000, uint256("0x000000000001cc8682a6d916c52a9b559a705a5ce7fd968e5cedf0b9e79ff51e"))
        (290000, uint256("0x0000000000019873de008520ab885bde953c3b975056cb17f82f18658ac96bab"))
        (291000, uint256("0x00000000000152023d048a33285724d2c1de2f6cb91a06cb0d79ec791ad0f33f"))
        (292000, uint256("0x000000000002819c4582e211ac487129943cf4c85d269b2dc613459c48665b85"))
        (293000, uint256("0x0000000000007ad2b16944f550328aabb017591de2c21db79522b5d584b5e810"))
        (294000, uint256("0x0000000000025fc7db23855cac42f074bae7f93fcc2e570623b4388d40c9d107"))
        (295000, uint256("0x000000000000c4f0a61f2750b46c9e5b2981418d805f7a65068d934f91f957d4"))
        (296000, uint256("0x000000000001472a9bd0a5fdc264b53e43b6a2d09ee36df77b127a0430658910"))
        (297000, uint256("0x0000000000011970c6cd448711ae442d7e75b9d0b1c9ff8e53f7edccf5746b9f"))
        (298000, uint256("0x000000000004b3343a371c728b1f1d22e737ebf818f979f069d476d3e997e960"))
        (299000, uint256("0x0000000000027a723d52cd8f190858626dd60fdde255ac129f4bfcaa6ad14f87"))
        (300000, uint256("0x00000000000502760fe120b5be6f315513af417cd7942ce4f760399d7fe37707"))
        (301000, uint256("0x000000000004c7fbbb7ee14c8dccc5163f766a0828fe5111458ae083bc94ec15"))
        (302000, uint256("0x00000000000352758df557025fe426025240e6e1379de176b2c75e3cfae3181f"))
        (303000, uint256("0x0000000000058c5bed0aa9ab9c138593a508dbf8ff1d71f9089f081d559a8dc8"))
        (304000, uint256("0x000000000001eb7863e9d3867dc947c55e1471024b56206d76ecbead5f09862e"))
        (305000, uint256("0x00000000000295aa7b3c89eb9ebbb58b9b28133ad267bd0f3353ea7f7b8ac77c"))
        (306000, uint256("0x00000000000073832dba9660b59beb1d05f36995dc8eefd94b997d37f29233fd"))
        (307000, uint256("0x00000000000254f8d4f83dd173f9a8e9324d564d9fce5d569ee1e1a7d2eebda0"))
        (308000, uint256("0x0000000000026c9f4750ef1c5c475919152186e672f5d65998009645353f1059"))
        (309000, uint256("0x000000000002b37239c39992818251b862c8c8d1af403d5050d588e4eab9d0f6"))
        (310000, uint256("0x000000000006423edd1f1c09de4b77d1fa1cb2082cff8972b045c3df285acab2"))
        (311000, uint256("0x000000000005531ffe060f16f212179f73b5b810a32e979f921cdaa08e3a794f"))
        (312000, uint256("0x00000000000461a40b2a7569279e12685a5b0d01a60684e0914f9b4a03048ceb"))
        (313000, uint256("0x000000000001dbfcaf0c2cb23dc869f52163158c86b080580325c46d9901106d"))
        (314000, uint256("0x00000000000003acb4c3f90932348a2ef627a27cfb48f28e9f7130f02004be07"))
        (315000, uint256("0x000000000000434d1217ba061d6ef3e3a971680ae71cea0b9c42c65e64f9be69"))
        (316000, uint256("0x000000000002a7a273852520aeb96b045f95b2fa15e235df9a2c915bb13c3662"))
        (317000, uint256("0x000000000005a82db0ac7190e66d13089526d357ff067e8cef6449ea1b904ff0"))
        (318000, uint256("0x000000000004acb5c54b61cc3da148904be58144628fe0ebe3c001a6c92bb883"))
        (319000, uint256("0x000000000001e370f64c8a765c23df3db453d8615d460e6e024198eb69ad8a27"))
        (320000, uint256("0x000000000003561a0da2608d2f85897e2cb4221f4f31f64746a9e1b6432837cb"))
        (321000, uint256("0x00000000000686029bfd351287327de600c5c86ecd085667446fb02c0c6d5331"))
        (322000, uint256("0x0000000000003bcd67f7411f258176d348474fbdb2c19ad57f0172a810406c8d"))
        (323000, uint256("0x000000000003e73f714d33ae93283d2b9509fff45adf2bbb544b0adf63789ef8"))
        (324000, uint256("0x0000000000021920ffe91c792fe675a71d5b79d8c50e9a5e015d8717b7e6d391"))
        (325000, uint256("0x0000000000055aa7daafa00172f345bccfe81e7b4f8e825961c35bdaf8cc7015"))
        (326000, uint256("0x0000000000040fd2476c7864f286531e96f29e48f4f9de2f643e088ab928b926"))
        (327000, uint256("0x000000000003240f65d7f84e108f632110b3b165cced95ac5e9d96e857648200"))
        (328000, uint256("0x000000000001b0f0113c759bbff0a87db902401ff4b2134b41f99b9d0cfe0062"))
        (329000, uint256("0x000000000012dd4568f397888ac7c01ac3a78af118345de1c8bc1198593fc7a4"))
        (330000, uint256("0x000000000000447279ba6970cb91dcdaae693c1b4725cb4847fa05ce611256c6"))
        (331000, uint256("0x000000000008444356a8d109005f803ed407cf63d1bc4f3a4260720dcc943256"))
        (332000, uint256("0x0000000000059dfed03c10f270aa742cfa5ad26a58fe08b963bf4474cdaeced0"))
        (333000, uint256("0x000000000002ddca744461bd5a18accc8ae20cbbca5b231da85d9f5b5ec4e693"))
        (334000, uint256("0x000000000002b695eb0abe88afaf3c36ffd1a2cca26706c3b28ee4629e62c54d"))
        (335000, uint256("0x0000000000001392b08c88641fc99d5fd0c593d8dcb648cf198d8861b71e16f7"))
        (336000, uint256("0x000000000008359562a9e2b15734f3aa1d869a5dac6e35a6012c63611d3caca9"))
        (337000, uint256("0x000000000003d6fcc3b01232a9d770a5583fe56ed130bf7037c908be9e54ebd2"))
        (338000, uint256("0x00000000000d3aa9dbb58175fb5af86f5ec559966f249d3c7053595d6ace7853"))
        (339000, uint256("0x00000000000344ea3773dcbd30a3a0d38c31ff83aee072634155383953a36aec"))
        (340000, uint256("0x0000000000032d6182f241e0369b03e43cd04eccfa65180b80035086f37c8854"))
        (341000, uint256("0x00000000000dc5d050c4a9905f2eed8a2f69c46acefad5a340c8385ccad4b8d2"))
        (342000, uint256("0x0000000000148e978275de6ccbe3815e17af165f12a824cb5a20e5022194153a"))
        (343000, uint256("0x00000000000e1cb0a6f5a49a5b4f2393f2561bf6edc9c80b8b33ca954d7e3076"))
        (344000, uint256("0x00000000001cfc00f093cc9c04d5969262241de863a5b60ae7b592beaa625f3b"))
        (345000, uint256("0x0000000000194eb1849f1eb2a05bab6cd5801a150d48c1de4ad4b9a404b6e236"))
        (346000, uint256("0x000000000010950dc1c966d07d8338d683d784e017307cba3efcfdd540fa2802"))
        (347000, uint256("0x00000000000004bfe5a16c03e91bd6df4b880e6262722e8b0567e6e149eddb01"))
        (348000, uint256("0x00000000001dc674f518d0aa306f2a067c83d72780ba866bdd6326bb63e4bf90"))
        (349000, uint256("0x0000000000094d1eebad4e1c7ef805a5bfae9af11adefbf76081709614f88cab"))
        (350000, uint256("0x000000000005b3bf67090cd6d1ec7a39416e5a46ac9939032a3092a22cfdd28e"))
        (351000, uint256("0x0000000000220cf801b1600ee54ddfee7ffc96e36b4a3845cb32068a6dc798b6"))
        (352000, uint256("0x00000000001f6b6c844956f1fbcb79a8f671d9dc16ed9afaf54e171e258d2bb5"))
        ;
    static const CCheckpointData data = {
        &mapCheckpoints,
        1554308108, // * UNIX timestamp of last checkpoint block
        446884,    // * total number of transactions between genesis and last checkpoint
                    //   (the tx=... number in the SetBestChain debug.log lines)
        1000.0     // * estimated number of transactions per day after checkpoint
    };

    static MapCheckpoints mapCheckpointsTestnet =
        boost::assign::map_list_of
        (   0, uint256("0x332865499df77f269f1fa1c640075275abc3b452c21619bfe05f757a65a46c48"))
        ;
    static const CCheckpointData dataTestnet = {
        &mapCheckpointsTestnet,
        1394545201,
        0,
        100
    };

    const CCheckpointData &Checkpoints() {
        if (fTestNet)
            return dataTestnet;
        else
            return data;
    }

    bool CheckBlock(int nHeight, const uint256& hash)
    {
        if (fTestNet) return true; // Testnet has no checkpoints
        if (!GetBoolArg("-checkpoints", true))
            return true;

        const MapCheckpoints& checkpoints = *Checkpoints().mapCheckpoints;

        MapCheckpoints::const_iterator i = checkpoints.find(nHeight);
        if (i == checkpoints.end()) return true;
        return hash == i->second;
    }

    // Guess how far we are in the verification process at the given block index
    double GuessVerificationProgress(CBlockIndex *pindex) {
        if (pindex==NULL)
            return 0.0;

        int64 nNow = time(NULL);

        double fWorkBefore = 0.0; // Amount of work done before pindex
        double fWorkAfter = 0.0;  // Amount of work left after pindex (estimated)
        // Work is defined as: 1.0 per transaction before the last checkoint, and
        // fSigcheckVerificationFactor per transaction after.

        const CCheckpointData &data = Checkpoints();

        if (pindex->nChainTx <= data.nTransactionsLastCheckpoint) {
            double nCheapBefore = pindex->nChainTx;
            double nCheapAfter = data.nTransactionsLastCheckpoint - pindex->nChainTx;
            double nExpensiveAfter = (nNow - data.nTimeLastCheckpoint)/86400.0*data.fTransactionsPerDay;
            fWorkBefore = nCheapBefore;
            fWorkAfter = nCheapAfter + nExpensiveAfter*fSigcheckVerificationFactor;
        } else {
            double nCheapBefore = data.nTransactionsLastCheckpoint;
            double nExpensiveBefore = pindex->nChainTx - data.nTransactionsLastCheckpoint;
            double nExpensiveAfter = (nNow - pindex->nTime)/86400.0*data.fTransactionsPerDay;
            fWorkBefore = nCheapBefore + nExpensiveBefore*fSigcheckVerificationFactor;
            fWorkAfter = nExpensiveAfter*fSigcheckVerificationFactor;
        }

        return fWorkBefore / (fWorkBefore + fWorkAfter);
    }

    int GetTotalBlocksEstimate()
    {
        if (fTestNet) return 0; // Testnet has no checkpoints
        if (!GetBoolArg("-checkpoints", true))
            return 0;

        const MapCheckpoints& checkpoints = *Checkpoints().mapCheckpoints;

        return checkpoints.rbegin()->first;
    }

    CBlockIndex* GetLastCheckpoint(const std::map<uint256, CBlockIndex*>& mapBlockIndex)
    {
        if (fTestNet) return NULL; // Testnet has no checkpoints
        if (!GetBoolArg("-checkpoints", true))
            return NULL;

        const MapCheckpoints& checkpoints = *Checkpoints().mapCheckpoints;

        BOOST_REVERSE_FOREACH(const MapCheckpoints::value_type& i, checkpoints)
        {
            const uint256& hash = i.second;
            std::map<uint256, CBlockIndex*>::const_iterator t = mapBlockIndex.find(hash);
            if (t != mapBlockIndex.end())
                return t->second;
        }
        return NULL;
    }

	uint256 GetLatestHardenedCheckpoint()
    {
        const MapCheckpoints& checkpoints = *Checkpoints().mapCheckpoints;
        return (checkpoints.rbegin()->second);
    }
}
